#:kivy 1.9.1

<Scoreboard>:
    size: self.parent.width/4, self.parent.top*3/4
    canvas:
        Color:
            rgba: 0,0,255,0.3
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.87
        text: "State of the game: "

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.8
        text: "Dollars: " + str(root.dollars)

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.75
        text: "Bitcoins: " + str(root.bitcoins)

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.7
        text: "$ per BTC: " + str(self.parent.btc_rate)

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.5
        text: str(self.parent.equipment_list)

    Label:
        id: debug
        font_size: 15
        pos: self.width/2, root.top*0.4
        text: ""

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.35
        text: "Risk level " + str(self.parent.risk)

    Label:
        font_size: 20
        pos: self.width/2, root.top*0.3
        text: "Timer " + str(self.parent.minutes) + ":" + str(self.parent.seconds)


<Actions>
    size: self.parent.width, self.parent.top/4
    canvas:
        Color:
            rgba: 0,0,255,0.3
        Rectangle:
            pos: self.pos
            size: self.size

    Button:
        id: exchange
        text: "Currency exchange"
        on_release: root.exchange(root.parent)

    Button:
        id: lab
        text: "Drug lab"
        on_release: root.lab(root.parent)

    Button:
        id: shop
        text: "Shop"
        on_release: root.shop(root.parent)

    Button:
        id: market
        text: "Dark market"
        on_release: root.market(root.parent)

    Button:
        id: event
        text: "Opens event"
        on_release: root.event(root.parent)

#    Button:
#        id: debug
#        text: "Debug ON/OFF"
#        on_release: root.debug(root.parent)

    Button:
        id: restart
        text: "Restart the game"
        on_release: root.restart(self.parent.parent)

<MainWindow>
    size: self.parent.width*3/4, self.parent.top*3/4
    canvas:
        Color:
            rgba: 0,0,255,1
        Rectangle:
            pos: self.pos
            size: self.size

<Events>

<MainGame>:
    score: scoreid
    actions: actionsid
    main: mainid


    Scoreboard:
        id: scoreid
        pos: 0, root.top*3/12

    Actions:
        id: actionsid
        pos: 0, 0
    Events:
        id: eventsid
        pos: root.width/2, root.top/2

    MainWindow:
        id: mainid
        pos: root.width/4, root.top/4